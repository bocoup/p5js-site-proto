---
layout: '@layouts/reference/SingleReferenceLayout.astro'
title: updatePixels
module: Rendering
file: >-
  /Users/stalgia/Desktop/Work/p5-scratch-pad/temp/p5.js/src/webgl/p5.Framebuffer.js
descriptionText: |-
  Call this after initially calling <a href="#/p5.Framebuffer/loadPixels">
  loadPixels()</a> and updating <a href="#/p5.Framebuffer/pixels">pixels</a>
  to replace the content of the framebuffer with the data in the pixels
  array.This will also clear the depth buffer so that any future drawing done
  afterwards will go on top.
params: []
name: updatePixels
kind: function
memberof: Framebuffer
scope: instance
namespace: '#updatePixels'
examples:
  - |-
    <div>
    <code>
    let framebuffer;
    function setup() {
      createCanvas(100, 100, WEBGL);
      framebuffer = createFramebuffer();
    }

    function draw() {
      noStroke();
      lights();

      // Draw a sphere to the framebuffer
      framebuffer.begin();
      background(0);
      sphere(25);
      framebuffer.end();

      // Load its pixels and draw a gradient over the lower half of the canvas
      framebuffer.loadPixels();
      for (let y = height/2; y < height; y++) {
        for (let x = 0; x < width; x++) {
          const idx = (y * width + x) * 4;
          framebuffer.pixels[idx] = (x / width) * 255;
          framebuffer.pixels[idx + 1] = (y / height) * 255;
          framebuffer.pixels[idx + 2] = 255;
          framebuffer.pixels[idx + 3] = 255;
        }
      }
      framebuffer.updatePixels();

      // Draw a cube on top of the pixels we just wrote
      framebuffer.begin();
      push();
      translate(20, 20);
      rotateX(0.5);
      rotateY(0.5);
      box(20);
      pop();
      framebuffer.end();

      image(framebuffer, -width/2, -height/2);
      noLoop();
    }
    </code>
    </div>
---


# updatePixels
