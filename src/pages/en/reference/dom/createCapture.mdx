---
layout: '@layouts/reference/SingleReferenceLayout.astro'
title: createCapture
module: DOM
file: /Users/stalgia/Desktop/Work/p5-scratch-pad/temp/p5.js/src/dom/dom.js
descriptionText: >-
  Creates a `&lt;video&gt;` element that "captures" the audio/video stream from

  the webcam and microphone. Returns a new

  <a href="#/p5.Element">p5.Element</a> object.Videos are shown by default. They
  can be hidden by calling `capture.hide()`

  and drawn to the canvas using <a href="#/p5/image">image()</a>.The first
  parameter, `type`, is optional. It sets the type of capture to

  use. By default, `createCapture()` captures both audio and video. If `VIDEO`

  is passed, as in `createCapture(VIDEO)`, only video will be captured.

  If `AUDIO` is passed, as in `createCapture(AUDIO)`, only audio will be

  captured. A constraints object can also be passed to customize the stream.

  See the <a
  href="http://w3c.github.io/mediacapture-main/getusermedia.html#media-track-constraints"
  target="_blank">

  W3C documentation</a> for possible properties. Different browsers support
  different

  properties.The second parameter, `callback`, is optional. It's a function to
  call once

  the capture is ready for use. The callback function should have one

  parameter, `stream`, that's a

  <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaStream"
  target="_blank">MediaStream</a> object.Note: `createCapture()` only works when
  running a sketch locally or using HTTPS. Learn more

  <a
  href="http://stackoverflow.com/questions/34197653/getusermedia-in-chrome-47-without-using-https"
  target="_blank">here</a>

  and <a
  href="https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia"
  target="_blank">here</a>.
params:
  - name: callback
    description: |-
      function to call once the stream
      has loaded.
    type: Function
kind: function
name: createCapture
namespace: createCapture
examples:
  - |-
    <div class='notest'>
    <code>
    function setup() {
      noCanvas();
      createCapture(VIDEO);

      describe('A video stream from the webcam.');
    }
    </code>
    </div>

    <div class='notest'>
    <code>
    let capture;

    function setup() {
      // Create the video capture and hide the element.
      capture = createCapture(VIDEO);
      capture.hide();

      describe('A video stream from the webcam with inverted colors.');
    }

    function draw() {
      // Draw the video capture within the canvas.
      image(capture, 0, 0, width, width * capture.height / capture.width);
      // Invert the colors in the stream.
      filter(INVERT);
    }
    </code>
    </div>

    <div class='notest norender'>
    <code>
    function setup() {
      createCanvas(480, 120);

      // Create a constraints object.
      let constraints = {
        video: {
          mandatory: {
            minWidth: 1280,
            minHeight: 720
          },
          optional: [{ maxFrameRate: 10 }]
        },
        audio: false
      };

      // Create the video capture.
      createCapture(constraints);

      describe('A video stream from the webcam.');
    }
    </code>
    </div>
---


# createCapture
